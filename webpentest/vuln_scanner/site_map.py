import requests
from bs4 import BeautifulSoup
from urllib.parse import urljoin


class Scanner:
    def __init__(self,url):
        self.target_url = url
        self.link = []

    def extract_links(self, url):
        response = requests.get(url)
        response_content = response.content
        parser = BeautifulSoup(response_content, features="xml")
        a_tag_list = parser.find_all("a")
        for a_tag in a_tag_list:
            href = a_tag.get("href")
            join_url = urljoin(url, href)
            if "#" in join_url:
                join_url = join_url.split("#")[1]
            if self.target_url in join_url and join_url not in self.link:
                self.link.append(join_url)
                print(join_url)
                self.extract_links(join_url)
